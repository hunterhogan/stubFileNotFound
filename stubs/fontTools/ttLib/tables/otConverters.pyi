from .otBase import (
	CountReference as CountReference, FormatSwitchingBaseTable as FormatSwitchingBaseTable, OTTableReader as OTTableReader,
	OTTableWriter as OTTableWriter, ValueRecordFactory as ValueRecordFactory)
from .otTables import (
	AATAction as AATAction, AATState as AATState, AATStateTable as AATStateTable, CompositeMode as _CompositeMode,
	ContextualMorphAction as ContextualMorphAction, ExtendMode as _ExtendMode,
	InsertionMorphAction as InsertionMorphAction, LigatureMorphAction as LigatureMorphAction, lookupTypes as lookupTypes,
	MorxSubtable as MorxSubtable, NO_VARIATION_INDEX as NO_VARIATION_INDEX, VarCompositeGlyph as VarCompositeGlyph)
from _typeshed import Incomplete
from fontTools.misc.lazyTools import LazyList as LazyList
from fontTools.misc.roundTools import nearestMultipleShortestRepr as nearestMultipleShortestRepr, otRound as otRound
from fontTools.misc.textTools import (
	bytesjoin as bytesjoin, pad as pad, safeEval as safeEval, tobytes as tobytes, tostr as tostr)
from fontTools.ttLib import getSearchRange as getSearchRange, OPTIMIZE_FONT_SPEED as OPTIMIZE_FONT_SPEED
from fontTools.ttLib.tables.TupleVariation import TupleVariation as TupleVariation
from itertools import zip_longest as zip_longest
from types import SimpleNamespace as SimpleNamespace

log: Incomplete
istuple: Incomplete

def buildConverters(tableSpec, tableNamespace):
    """Given a table spec from otData.py, build a converter object for each
    field of the table. This is called for each table in otData.py, and
    the results are assigned to the corresponding class in otTables.py.
    """

class BaseConverter:
    """Base class for converter objects. Apart from the constructor, this
    is an abstract class.
    """

    name: Incomplete
    repeat: Incomplete
    aux: Incomplete
    tableClass: Incomplete
    isCount: Incomplete
    isLookupType: Incomplete
    isPropagated: Incomplete
    description: Incomplete
    def __init__(self, name, repeat, aux, tableClass=None, *, description: str = '') -> None: ...
    def readArray(self, reader, font, tableDict, count):
        """Read an array of values from the reader."""
    def getRecordSize(self, reader): ...
    def read(self, reader, font, tableDict) -> None:
        """Read a value from the reader."""
    def writeArray(self, writer, font, tableDict, values) -> None: ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None:
        """Write a value to the writer."""
    def xmlRead(self, attrs, content, font) -> None:
        """Read a value from XML."""
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None:
        """Write a value to XML."""
    varIndexBasePlusOffsetRE: Incomplete
    def getVarIndexOffset(self) -> int | None:
        """If description has `VarIndexBase + {offset}`, return the offset else None."""

class SimpleValue(BaseConverter):
    @staticmethod
    def toString(value): ...
    @staticmethod
    def fromString(value): ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...
    def xmlRead(self, attrs, content, font): ...

class OptionalValue(SimpleValue):
    DEFAULT: Incomplete
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...
    def xmlRead(self, attrs, content, font): ...

class IntValue(SimpleValue):
    @staticmethod
    def fromString(value): ...

class Long(IntValue):
    staticSize: int
    def read(self, reader, font, tableDict): ...
    def readArray(self, reader, font, tableDict, count): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    def writeArray(self, writer, font, tableDict, values) -> None: ...

class ULong(IntValue):
    staticSize: int
    def read(self, reader, font, tableDict): ...
    def readArray(self, reader, font, tableDict, count): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    def writeArray(self, writer, font, tableDict, values) -> None: ...

class Flags32(ULong):
    @staticmethod
    def toString(value): ...

class VarIndex(OptionalValue, ULong):
    DEFAULT = NO_VARIATION_INDEX

class Short(IntValue):
    staticSize: int
    def read(self, reader, font, tableDict): ...
    def readArray(self, reader, font, tableDict, count): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    def writeArray(self, writer, font, tableDict, values) -> None: ...

class UShort(IntValue):
    staticSize: int
    def read(self, reader, font, tableDict): ...
    def readArray(self, reader, font, tableDict, count): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    def writeArray(self, writer, font, tableDict, values) -> None: ...

class Int8(IntValue):
    staticSize: int
    def read(self, reader, font, tableDict): ...
    def readArray(self, reader, font, tableDict, count): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    def writeArray(self, writer, font, tableDict, values) -> None: ...

class UInt8(IntValue):
    staticSize: int
    def read(self, reader, font, tableDict): ...
    def readArray(self, reader, font, tableDict, count): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    def writeArray(self, writer, font, tableDict, values) -> None: ...

class UInt24(IntValue):
    staticSize: int
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...

class ComputedInt(IntValue):
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...

class ComputedUInt8(ComputedInt, UInt8): ...
class ComputedUShort(ComputedInt, UShort): ...
class ComputedULong(ComputedInt, ULong): ...

class Tag(SimpleValue):
    staticSize: int
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...

class GlyphID(SimpleValue):
    staticSize: int
    typecode: str
    def readArray(self, reader, font, tableDict, count): ...
    def read(self, reader, font, tableDict): ...
    def writeArray(self, writer, font, tableDict, values) -> None: ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...

class GlyphID32(GlyphID):
    staticSize: int
    typecode: str

class NameID(UShort):
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...

class STATFlags(UShort):
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...

class FloatValue(SimpleValue):
    @staticmethod
    def fromString(value): ...

class DeciPoints(FloatValue):
    staticSize: int
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...

class BaseFixedValue(FloatValue):
    staticSize = NotImplemented
    precisionBits = NotImplemented
    readerMethod = NotImplemented
    writerMethod = NotImplemented
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    @classmethod
    def fromInt(cls, value): ...
    @classmethod
    def toInt(cls, value): ...
    @classmethod
    def fromString(cls, value): ...
    @classmethod
    def toString(cls, value): ...

class Fixed(BaseFixedValue):
    staticSize: int
    precisionBits: int
    readerMethod: str
    writerMethod: str

class F2Dot14(BaseFixedValue):
    staticSize: int
    precisionBits: int
    readerMethod: str
    writerMethod: str

class Angle(F2Dot14):
    bias: float
    factor: Incomplete
    @classmethod
    def fromInt(cls, value): ...
    @classmethod
    def toInt(cls, value): ...
    @classmethod
    def fromString(cls, value): ...
    @classmethod
    def toString(cls, value): ...

class BiasedAngle(Angle):
    bias: float

class Version(SimpleValue):
    staticSize: int
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    @staticmethod
    def fromString(value): ...
    @staticmethod
    def toString(value): ...
    @staticmethod
    def fromFloat(v): ...

class Char64(SimpleValue):
    """An ASCII string with up to 64 characters.

    Unused character positions are filled with 0x00 bytes.
    Used in Apple AAT fonts in the `gcid` table.
    """

    staticSize: int
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...

class Struct(BaseConverter):
    def getRecordSize(self, reader): ...
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...
    def xmlRead(self, attrs, content, font): ...

class StructWithLength(Struct):
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...

class Table(Struct):
    staticSize: int
    def readOffset(self, reader): ...
    def writeNullOffset(self, writer) -> None: ...
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...

class LTable(Table):
    staticSize: int
    def readOffset(self, reader): ...
    def writeNullOffset(self, writer) -> None: ...

class Table24(Table):
    staticSize: int
    def readOffset(self, reader): ...
    def writeNullOffset(self, writer) -> None: ...

class SubStruct(Struct):
    def getConverter(self, tableType, lookupType): ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...

class SubTable(Table):
    def getConverter(self, tableType, lookupType): ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...

class ExtSubTable(LTable, SubTable):
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...

class FeatureParams(Table):
    def getConverter(self, featureTag): ...

class ValueFormat(IntValue):
    staticSize: int
    which: Incomplete
    def __init__(self, name, repeat, aux, tableClass=None, *, description: str = '') -> None: ...
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, format, repeatIndex=None) -> None: ...

class ValueRecord(ValueFormat):
    def getRecordSize(self, reader): ...
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...
    def xmlRead(self, attrs, content, font): ...

class AATLookup(BaseConverter):
    BIN_SEARCH_HEADER_SIZE: int
    converter: Incomplete
    def __init__(self, name, repeat, aux, tableClass, *, description: str = '') -> None: ...
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    @staticmethod
    def writeBinSearchHeader(writer, numUnits, unitSize) -> None: ...
    def buildFormat0(self, writer, font, values): ...
    def writeFormat0(self, writer, font, values) -> None: ...
    def buildFormat2(self, writer, font, values): ...
    def writeFormat2(self, writer, font, segments) -> None: ...
    def buildFormat6(self, writer, font, values): ...
    def writeFormat6(self, writer, font, values) -> None: ...
    def buildFormat8(self, writer, font, values): ...
    def writeFormat8(self, writer, font, values) -> None: ...
    def readFormat0(self, reader, font): ...
    def readFormat2(self, reader, font): ...
    def readFormat4(self, reader, font): ...
    def readFormat6(self, reader, font): ...
    def readFormat8(self, reader, font): ...
    def xmlRead(self, attrs, content, font): ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...

class AATLookupWithDataOffset(BaseConverter):
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    def xmlRead(self, attrs, content, font): ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...

class MorxSubtableConverter(BaseConverter):
    _PROCESSING_ORDERS: Incomplete
    _PROCESSING_ORDERS_REVERSED: Incomplete
    def __init__(self, name, repeat, aux, tableClass=None, *, description: str = '') -> None: ...
    def _setTextDirectionFromCoverageFlags(self, flags, subtable) -> None: ...
    def read(self, reader, font, tableDict): ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...
    def xmlRead(self, attrs, content, font): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...

class STXHeader(BaseConverter):
    classLookup: Incomplete
    perGlyphLookup: Incomplete
    def __init__(self, name, repeat, aux, tableClass, *, description: str = '') -> None: ...
    def read(self, reader, font, tableDict): ...
    def _readTransition(self, reader, entryIndex, font, actionReader): ...
    def _readLigatures(self, reader, font): ...
    def _countPerGlyphLookups(self, table): ...
    def _readPerGlyphLookups(self, table, reader, font): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    def _compileStates(self, font, states, glyphClassCount, actionIndex): ...
    def _compilePerGlyphLookups(self, table, font): ...
    def _compileLigComponents(self, table, font): ...
    def _compileLigatures(self, table, font): ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...
    def _xmlWriteLigatures(self, xmlWriter, font, value, name, attrs) -> None: ...
    def xmlRead(self, attrs, content, font): ...
    def _xmlReadState(self, attrs, content, font): ...
    def _xmlReadLigComponents(self, attrs, content, font): ...
    def _xmlReadLigatures(self, attrs, content, font): ...

class CIDGlyphMap(BaseConverter):
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    def xmlRead(self, attrs, content, font): ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...

class GlyphCIDMap(BaseConverter):
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    def xmlRead(self, attrs, content, font): ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...

class DeltaValue(BaseConverter):
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...
    def xmlRead(self, attrs, content, font): ...

class VarIdxMapValue(BaseConverter):
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, value, repeatIndex=None) -> None: ...

class VarDataValue(BaseConverter):
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, values, repeatIndex=None) -> None: ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...
    def xmlRead(self, attrs, content, font): ...

class TupleValues:
    def read(self, data, font): ...
    def write(self, writer, font, tableDict, values, repeatIndex=None): ...
    def xmlRead(self, attrs, content, font): ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...

class CFF2Index(BaseConverter):
    _itemClass: Incomplete
    _converter: Incomplete
    def __init__(self, name, repeat, aux, tableClass=None, *, itemClass=None, itemConverterClass=None, description: str = '') -> None: ...
    def read(self, reader, font, tableDict): ...
    def write(self, writer, font, tableDict, values, repeatIndex=None) -> None: ...
    def xmlRead(self, attrs, content, font): ...
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...

class LookupFlag(UShort):
    def xmlWrite(self, xmlWriter, font, value, name, attrs) -> None: ...

class _UInt8Enum(UInt8):
    enumClass = NotImplemented
    def read(self, reader, font, tableDict): ...
    @classmethod
    def fromString(cls, value): ...
    @classmethod
    def toString(cls, value): ...

class ExtendMode(_UInt8Enum):
    enumClass = _ExtendMode

class CompositeMode(_UInt8Enum):
    enumClass = _CompositeMode

converterMapping: Incomplete
