"""
This type stub file was generated by pyright.
"""

import sys
import struct
import array
import logging
from fontTools import config, ttLib
from fontTools.misc.roundTools import otRound
from fontTools.ttLib.tables import otTables
from fontTools.ttLib.tables.otBase import USE_HARFBUZZ_REPACKER
from fontTools.otlLib.maxContextCalc import maxCtxFont
from fontTools.pens.basePen import NullPen
from fontTools.misc.loggingTools import Timer
from fontTools.misc.cliTools import makeOutputFileName
from fontTools.subset.util import _add_method, _uniq_sort
from fontTools.subset.cff import *
from fontTools.subset.svg import *
from fontTools.varLib import multiVarStore, varStore
from fontTools.ttLib.tables._n_a_m_e import NameRecordVisitor, makeName
from fontTools.unicodedata import mirrored
from collections import Counter, defaultdict
from functools import reduce
from types import MethodType

__usage__ = ...
__doc__ = ...
log = ...
timer = ...
@_add_method(otTables.Coverage)
def intersect(self, glyphs): # -> list[int]:
    """Returns ascending list of matching coverage values."""
    ...

@_add_method(otTables.Coverage)
def intersect_glyphs(self, glyphs): # -> set[Any]:
    """Returns set of intersecting glyphs."""
    ...

@_add_method(otTables.Coverage)
def subset(self, glyphs):
    """Returns ascending list of remaining coverage values."""
    ...

@_add_method(otTables.Coverage)
def remap(self, coverage_map): # -> None:
    """Remaps coverage."""
    ...

@_add_method(otTables.ClassDef)
def intersect(self, glyphs): # -> list[int]:
    """Returns ascending list of matching class values."""
    ...

@_add_method(otTables.ClassDef)
def intersect_class(self, glyphs, klass): # -> set[Any]:
    """Returns set of glyphs matching class."""
    ...

@_add_method(otTables.ClassDef)
def subset(self, glyphs, remap=..., useClass0=...): # -> list[int]:
    """Returns ascending list of remaining classes."""
    ...

@_add_method(otTables.ClassDef)
def remap(self, class_map): # -> None:
    """Remaps classes."""
    ...

@_add_method(otTables.SingleSubst)
def closure_glyphs(self, s, cur_glyphs): # -> None:
    ...

@_add_method(otTables.SingleSubst)
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(otTables.MultipleSubst)
def closure_glyphs(self, s, cur_glyphs): # -> None:
    ...

@_add_method(otTables.MultipleSubst)
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(otTables.AlternateSubst)
def closure_glyphs(self, s, cur_glyphs): # -> None:
    ...

@_add_method(otTables.AlternateSubst)
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(otTables.LigatureSubst)
def closure_glyphs(self, s, cur_glyphs): # -> None:
    ...

@_add_method(otTables.LigatureSubst)
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(otTables.ReverseChainSingleSubst)
def closure_glyphs(self, s, cur_glyphs): # -> None:
    ...

@_add_method(otTables.ReverseChainSingleSubst)
def subset_glyphs(self, s): # -> bool | None:
    ...

@_add_method(otTables.Device)
def is_hinting(self): # -> bool:
    ...

@_add_method(otTables.ValueRecord)
def prune_hints(self): # -> None:
    ...

@_add_method(otTables.SinglePos)
def subset_glyphs(self, s): # -> int | bool | None:
    ...

@_add_method(otTables.SinglePos)
def prune_post_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(otTables.PairPos)
def subset_glyphs(self, s): # -> bool | None:
    ...

@_add_method(otTables.PairPos)
def prune_post_subset(self, font, options): # -> bool:
    ...

@_add_method(otTables.CursivePos)
def subset_glyphs(self, s): # -> bool | None:
    ...

@_add_method(otTables.Anchor)
def prune_hints(self): # -> None:
    ...

@_add_method(otTables.CursivePos)
def prune_post_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(otTables.MarkBasePos)
def subset_glyphs(self, s): # -> bool | None:
    ...

@_add_method(otTables.MarkBasePos)
def prune_post_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(otTables.MarkLigPos)
def subset_glyphs(self, s): # -> bool | None:
    ...

@_add_method(otTables.MarkLigPos)
def prune_post_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(otTables.MarkMarkPos)
def subset_glyphs(self, s): # -> bool | None:
    ...

@_add_method(otTables.MarkMarkPos)
def prune_post_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(otTables.SingleSubst, otTables.MultipleSubst, otTables.AlternateSubst, otTables.LigatureSubst, otTables.ReverseChainSingleSubst, otTables.SinglePos, otTables.PairPos, otTables.CursivePos, otTables.MarkBasePos, otTables.MarkLigPos, otTables.MarkMarkPos)
def subset_lookups(self, lookup_indices): # -> None:
    ...

@_add_method(otTables.SingleSubst, otTables.MultipleSubst, otTables.AlternateSubst, otTables.LigatureSubst, otTables.ReverseChainSingleSubst, otTables.SinglePos, otTables.PairPos, otTables.CursivePos, otTables.MarkBasePos, otTables.MarkLigPos, otTables.MarkMarkPos)
def collect_lookups(self): # -> list[Any]:
    ...

@_add_method(otTables.SingleSubst, otTables.MultipleSubst, otTables.AlternateSubst, otTables.LigatureSubst, otTables.ReverseChainSingleSubst, otTables.ContextSubst, otTables.ChainContextSubst, otTables.ContextPos, otTables.ChainContextPos)
def prune_post_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(otTables.SingleSubst, otTables.AlternateSubst, otTables.ReverseChainSingleSubst)
def may_have_non_1to1(self): # -> Literal[False]:
    ...

@_add_method(otTables.MultipleSubst, otTables.LigatureSubst, otTables.ContextSubst, otTables.ChainContextSubst)
def may_have_non_1to1(self): # -> Literal[True]:
    ...

@_add_method(otTables.ContextSubst, otTables.ChainContextSubst)
def closure_glyphs(self, s, cur_glyphs): # -> list[Any] | None:
    ...

@_add_method(otTables.ContextSubst, otTables.ContextPos, otTables.ChainContextSubst, otTables.ChainContextPos)
def subset_glyphs(self, s): # -> bool | None:
    ...

@_add_method(otTables.ContextSubst, otTables.ChainContextSubst, otTables.ContextPos, otTables.ChainContextPos)
def subset_lookups(self, lookup_indices): # -> None:
    ...

@_add_method(otTables.ContextSubst, otTables.ChainContextSubst, otTables.ContextPos, otTables.ChainContextPos)
def collect_lookups(self): # -> list[Any] | None:
    ...

@_add_method(otTables.ExtensionSubst)
def closure_glyphs(self, s, cur_glyphs): # -> None:
    ...

@_add_method(otTables.ExtensionSubst)
def may_have_non_1to1(self): # -> None:
    ...

@_add_method(otTables.ExtensionSubst, otTables.ExtensionPos)
def subset_glyphs(self, s): # -> None:
    ...

@_add_method(otTables.ExtensionSubst, otTables.ExtensionPos)
def prune_post_subset(self, font, options): # -> None:
    ...

@_add_method(otTables.ExtensionSubst, otTables.ExtensionPos)
def subset_lookups(self, lookup_indices): # -> None:
    ...

@_add_method(otTables.ExtensionSubst, otTables.ExtensionPos)
def collect_lookups(self): # -> None:
    ...

@_add_method(otTables.Lookup)
def closure_glyphs(self, s, cur_glyphs=...): # -> None:
    ...

@_add_method(otTables.Lookup)
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(otTables.Lookup)
def prune_post_subset(self, font, options): # -> bool:
    ...

@_add_method(otTables.Lookup)
def subset_lookups(self, lookup_indices): # -> None:
    ...

@_add_method(otTables.Lookup)
def collect_lookups(self): # -> list[Any]:
    ...

@_add_method(otTables.Lookup)
def may_have_non_1to1(self): # -> bool:
    ...

@_add_method(otTables.LookupList)
def subset_glyphs(self, s): # -> list[int]:
    """Returns the indices of nonempty lookups."""
    ...

@_add_method(otTables.LookupList)
def prune_post_subset(self, font, options): # -> bool:
    ...

@_add_method(otTables.LookupList)
def subset_lookups(self, lookup_indices): # -> None:
    ...

@_add_method(otTables.LookupList)
def neuter_lookups(self, lookup_indices): # -> None:
    """Sets lookups not in lookup_indices to None."""
    ...

@_add_method(otTables.LookupList)
def closure_lookups(self, lookup_indices): # -> list[Any]:
    """Returns sorted index of all lookups reachable from lookup_indices."""
    ...

@_add_method(otTables.Feature)
def subset_lookups(self, lookup_indices): # -> int | bool:
    """ "Returns True if feature is non-empty afterwards."""
    ...

@_add_method(otTables.FeatureList)
def subset_lookups(self, lookup_indices): # -> list[int]:
    """Returns the indices of nonempty features."""
    ...

@_add_method(otTables.FeatureList)
def collect_lookups(self, feature_indices): # -> list[Any]:
    ...

@_add_method(otTables.FeatureList)
def subset_features(self, feature_indices): # -> bool:
    ...

@_add_method(otTables.FeatureTableSubstitution)
def subset_lookups(self, lookup_indices): # -> list[Any]:
    """Returns the indices of nonempty features."""
    ...

@_add_method(otTables.FeatureVariations)
def subset_lookups(self, lookup_indices): # -> list[Any]:
    """Returns the indices of nonempty features."""
    ...

@_add_method(otTables.FeatureVariations)
def collect_lookups(self, feature_indices): # -> list[Any]:
    ...

@_add_method(otTables.FeatureTableSubstitution)
def subset_features(self, feature_indices): # -> bool:
    ...

@_add_method(otTables.FeatureTableSubstitution)
def prune_features(self, feature_index_map): # -> bool:
    ...

@_add_method(otTables.FeatureVariations)
def subset_features(self, feature_indices): # -> bool:
    ...

@_add_method(otTables.FeatureVariations)
def prune_features(self, feature_index_map): # -> bool:
    ...

@_add_method(otTables.DefaultLangSys, otTables.LangSys)
def subset_features(self, feature_indices): # -> bool:
    ...

@_add_method(otTables.DefaultLangSys, otTables.LangSys)
def prune_features(self, feature_index_map): # -> bool:
    ...

@_add_method(otTables.DefaultLangSys, otTables.LangSys)
def collect_features(self): # -> list[Any]:
    ...

@_add_method(otTables.Script)
def subset_features(self, feature_indices, keepEmptyDefaultLangSys=...): # -> bool:
    ...

@_add_method(otTables.Script)
def prune_features(self, feature_index_map, keepEmptyDefaultLangSys=...): # -> bool:
    ...

@_add_method(otTables.Script)
def collect_features(self): # -> list[Any]:
    ...

@_add_method(otTables.ScriptList)
def subset_features(self, feature_indices, retain_empty): # -> bool:
    ...

@_add_method(otTables.ScriptList)
def prune_features(self, feature_index_map, retain_empty): # -> bool:
    ...

@_add_method(otTables.ScriptList)
def collect_features(self): # -> list[Any]:
    ...

@_add_method(ttLib.getTableClass("EBLC"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("EBDT"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("sbix"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("GSUB"))
def closure_glyphs(self, s): # -> None:
    ...

@_add_method(ttLib.getTableClass("GSUB"), ttLib.getTableClass("GPOS"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("GSUB"), ttLib.getTableClass("GPOS"))
def retain_empty_scripts(self):
    ...

@_add_method(ttLib.getTableClass("GSUB"), ttLib.getTableClass("GPOS"))
def subset_lookups(self, lookup_indices): # -> None:
    """Retains specified lookups, then removes empty features, language
    systems, and scripts."""
    ...

@_add_method(ttLib.getTableClass("GSUB"), ttLib.getTableClass("GPOS"))
def neuter_lookups(self, lookup_indices): # -> None:
    """Sets lookups not in lookup_indices to None."""
    ...

@_add_method(ttLib.getTableClass("GSUB"), ttLib.getTableClass("GPOS"))
def prune_lookups(self, remap=...): # -> None:
    """Remove (default) or neuter unreferenced lookups"""
    ...

@_add_method(ttLib.getTableClass("GSUB"), ttLib.getTableClass("GPOS"))
def subset_feature_tags(self, feature_tags): # -> None:
    ...

@_add_method(ttLib.getTableClass("GSUB"), ttLib.getTableClass("GPOS"))
def subset_script_tags(self, tags): # -> None:
    ...

@_add_method(ttLib.getTableClass("GSUB"), ttLib.getTableClass("GPOS"))
def prune_features(self): # -> None:
    """Remove unreferenced and duplicate features in FeatureList
    Remove unreferenced features and remap duplicate feature indices in ScriptList and FeatureVariations
    """
    ...

@_add_method(ttLib.getTableClass("GSUB"), ttLib.getTableClass("GPOS"))
def remap_duplicate_features(self, feature_indices): # -> tuple[list[Any], dict[Any, Any]]:
    """Return retained feature indices(without duplicates) and remapped feature indices"""
    ...

@_add_method(ttLib.getTableClass("GSUB"), ttLib.getTableClass("GPOS"))
def prune_pre_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("GSUB"), ttLib.getTableClass("GPOS"))
def remove_redundant_langsys(self): # -> None:
    ...

@_add_method(ttLib.getTableClass("GSUB"), ttLib.getTableClass("GPOS"))
def prune_post_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("GDEF"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("GDEF"))
def prune_post_subset(self, font, options): # -> bool:
    ...

@_add_method(ttLib.getTableClass("kern"))
def prune_pre_subset(self, font, options): # -> bool:
    ...

@_add_method(ttLib.getTableClass("kern"))
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(ttLib.getTableClass("vmtx"))
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(ttLib.getTableClass("hmtx"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("hdmx"))
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(ttLib.getTableClass("ankr"))
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(ttLib.getTableClass("bsln"))
def closure_glyphs(self, s): # -> None:
    ...

@_add_method(ttLib.getTableClass("bsln"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("lcar"))
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(ttLib.getTableClass("gvar"))
def prune_pre_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("gvar"))
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(ttLib.getTableClass("HVAR"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("VVAR"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("VORG"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("opbd"))
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(ttLib.getTableClass("post"))
def prune_pre_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("post"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("prop"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("COLR"))
def closure_glyphs(self, s): # -> None:
    ...

@_add_method(ttLib.getTableClass("COLR"))
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(ttLib.getTableClass("CPAL"))
def prune_post_subset(self, font, options): # -> bool:
    ...

@_add_method(otTables.MathGlyphConstruction)
def closure_glyphs(self, glyphs): # -> set[Any]:
    ...

@_add_method(otTables.MathVariants)
def closure_glyphs(self, s): # -> None:
    ...

@_add_method(ttLib.getTableClass("VARC"))
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(ttLib.getTableClass("VARC"))
def closure_glyphs(self, s): # -> None:
    ...

@_add_method(ttLib.getTableClass("VARC"))
def prune_post_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("MATH"))
def closure_glyphs(self, s): # -> None:
    ...

@_add_method(otTables.MathItalicsCorrectionInfo)
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(otTables.MathTopAccentAttachment)
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(otTables.MathKernInfo)
def subset_glyphs(self, s): # -> bool:
    ...

@_add_method(otTables.MathGlyphInfo)
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(otTables.MathVariants)
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("MATH"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableModule("glyf").Glyph)
def remapComponentsFast(self, glyphidmap): # -> None:
    ...

@_add_method(ttLib.getTableClass("glyf"))
def closure_glyphs(self, s): # -> None:
    ...

@_add_method(ttLib.getTableClass("glyf"))
def prune_pre_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("glyf"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("glyf"))
def prune_post_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("cmap"))
def closure_glyphs(self, s): # -> None:
    ...

@_add_method(ttLib.getTableClass("cmap"))
def prune_pre_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("cmap"))
def subset_glyphs(self, s): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("DSIG"))
def prune_pre_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("maxp"))
def prune_pre_subset(self, font, options): # -> Literal[True]:
    ...

NAME_IDS_TO_OBFUSCATE = ...
@_add_method(ttLib.getTableClass("name"))
def prune_post_subset(self, font, options): # -> Literal[True]:
    ...

@_add_method(ttLib.getTableClass("head"))
def prune_post_subset(self, font, options): # -> Literal[True]:
    ...

class Options:
    class OptionError(Exception):
        ...
    
    
    class UnknownOptionError(OptionError):
        ...
    
    
    _drop_tables_default = ...
    _no_subset_tables_default = ...
    _hinting_tables_default = ...
    _layout_features_groups = ...
    _layout_features_default = ...
    def __init__(self, **kwargs) -> None:
        ...
    
    def set(self, **kwargs): # -> None:
        ...
    
    def parse_opts(self, argv, ignore_unknown=...): # -> list[Any]:
        ...
    


class Subsetter:
    class SubsettingError(Exception):
        ...
    
    
    class MissingGlyphsSubsettingError(SubsettingError):
        ...
    
    
    class MissingUnicodesSubsettingError(SubsettingError):
        ...
    
    
    def __init__(self, options=...) -> None:
        ...
    
    def populate(self, glyphs=..., gids=..., unicodes=..., text=...): # -> None:
        ...
    
    def subset(self, font): # -> None:
        ...
    


@timer("load font")
def load_font(fontFile, options, checkChecksums=..., dontLoadGlyphNames=..., lazy=...): # -> TTFont:
    ...

@timer("compile and save font")
def save_font(font, outfile, options): # -> None:
    ...

def parse_unicodes(s): # -> list[Any]:
    ...

def parse_gids(s): # -> list[Any]:
    ...

def parse_glyphs(s):
    ...

def usage(): # -> None:
    ...

@timer("make one with everything (TOTAL TIME)")
def main(args=...): # -> Literal[0, 2, 1] | None:
    """OpenType font subsetter and optimizer"""
    ...

__all__ = ["Options", "Subsetter", "load_font", "save_font", "parse_gids", "parse_glyphs", "parse_unicodes", "main"]
