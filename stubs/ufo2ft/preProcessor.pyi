"""
This type stub file was generated by pyright.
"""

from typing import TYPE_CHECKING
from ufo2ft.instantiator import Instantiator

if TYPE_CHECKING:
    ...
class BasePreProcessor:
    """Base class for objects that performs pre-processing operations on
    the UFO glyphs, such as decomposing composites, removing overlaps, or
    applying custom filters.

    By default the input UFO is **not** modified. The ``process`` method
    returns a dictionary containing the new modified glyphset, keyed by
    glyph name. If ``inplace`` is True, the input UFO is modified directly
    without the need to first copy the glyphs.

    Subclasses can override the ``initDefaultFilters`` method and return
    a list of built-in filters which are performed in a predefined order,
    between the user-defined pre- and post-filters.
    The extra kwargs passed to the constructor can be used to customize the
    initialization of the default filters.

    Custom filters can be applied before or after the default filters.
    These can be specified in the UFO lib.plist under the private key
    "com.github.googlei18n.ufo2ft.filters".
    Alternatively the optional ``filters`` parameter can be used. This is a
    list of filter instances (subclasses of BaseFilter) that overrides
    those defined in the UFO lib. The list can be empty, meaning no custom
    filters are run. If ``filters`` contain the special value ``...`` (i.e.
    the actual ``ellipsis`` singleton, not the str literal '...'), then all
    the filters from the UFO lib are loaded in its place. This allows to
    insert additional filters before or after those already defined in the
    UFO lib, as opposed to discard/replace them which is the default behavior
    when ``...`` is absent.
    """
    def __init__(self, ufo, inplace=..., layerName=..., skipExportGlyphs=..., filters=..., **kwargs) -> None:
        ...
    
    def initDefaultFilters(self, **kwargs): # -> list[Any]:
        ...
    
    def process(self): # -> _GlyphSet:
        ...
    


class OTFPreProcessor(BasePreProcessor):
    """Preprocessor for building CFF-flavored OpenType fonts.

    By default, it decomposes all the components.

    If ``removeOverlaps`` is True, it performs a union boolean operation on
    all the glyphs' contours.

    By default, booleanOperations is used to remove overlaps. You can choose
    skia-pathops by setting ``overlapsBackend`` to the enum value
    ``RemoveOverlapsFilter.SKIA_PATHOPS``, or the string "pathops".
    """
    def initDefaultFilters(self, removeOverlaps=..., overlapsBackend=...): # -> list[Any]:
        ...
    


class TTFPreProcessor(OTFPreProcessor):
    """Preprocessor for building TrueType-flavored OpenType fonts.

    By default, it decomposes all the glyphs with mixed component/contour
    outlines. If the ``flattenComponents`` setting is True, glyphs with
    nested components are flattened so that they have at most one level of
    components.

    If ``removeOverlaps`` is True, it performs a union boolean operation on
    all the glyphs' contours.

    By default, booleanOperations is used to remove overlaps. You can choose
    skia-pathops by setting ``overlapsBackend`` to the enum value
    ``RemoveOverlapsFilter.SKIA_PATHOPS``, or the string "pathops".

    By default, it also converts all the PostScript cubic Bezier curves to
    TrueType quadratic splines. If the outlines are already quadratic, you
    can skip this by setting ``convertCubics`` to False.

    The optional ``conversionError`` argument controls the tolerance
    of the approximation algorithm. It is measured as the maximum distance
    between the original and converted curve, and it's relative to the UPM
    of the font (default: 1/1000 or 0.001).

    When converting curves to quadratic, it is assumed that the contours'
    winding direction is set following the PostScript counter-clockwise
    convention. Thus, by default the direction is reversed, in order to
    conform to opposite clockwise convention for TrueType outlines.
    You can disable this by setting ``reverseDirection`` to False.

    If both ``inplace`` and ``rememberCurveType`` options are True, the curve
    type "quadratic" is saved in font' lib under a private cu2qu key; the
    preprocessor will not try to convert them again if the curve type is
    already set to "quadratic".
    """
    def initDefaultFilters(self, removeOverlaps=..., overlapsBackend=..., flattenComponents=..., convertCubics=..., conversionError=..., allQuadratic=..., reverseDirection=..., rememberCurveType=...): # -> list[Any]:
        ...
    


class BaseInterpolatablePreProcessor:
    """Base class for interpolatable pre-processors.

    These apply filters to same-named glyphs from multiple source layers at once,
    ensuring that outlines are kept interpolation compatible.

    The optional `instantiator` can be used by filters to interpolate glyph
    instances (e.g. when decomposing composite glyphs defined at more or less
    source locations as some of their components' base glyphs).
    """
    def __init__(self, ufos, inplace=..., layerNames=..., skipExportGlyphs=..., filters=..., *, instantiator: Instantiator | None = ..., **kwargs) -> None:
        ...
    
    def initDefaultFilters(self, **kwargs): # -> list[Any]:
        ...
    
    def process(self): # -> list[_GlyphSet]:
        ...
    


class TTFInterpolatablePreProcessor(BaseInterpolatablePreProcessor):
    """Preprocessor for building TrueType-flavored OpenType fonts with
    interpolatable quadratic outlines.

    The constructor takes a list of UFO fonts, and the ``process`` method
    returns the modified glyphsets (list of dicts) in the same order.

    The pre-processor performs the conversion from cubic to quadratic on
    all the UFOs at once, then decomposes mixed contour/component glyphs.

    Additional pre/post custom filter are also applied to each single UFOs,
    respectively before or after the default filters, if they are specified
    in the UFO's lib.plist under the private key
    "com.github.googlei18n.ufo2ft.filters".
    NOTE: If you use any custom filters, the resulting glyphsets may no longer
    be interpolation compatible, depending on the particular filter used or
    whether they are applied to only some vs all of the UFOs.

    The ``conversionError``, ``reverseDirection``, ``flattenComponents`` and
    ``rememberCurveType`` arguments work in the same way as in the
    ``TTFPreProcessor``.
    """
    def __init__(self, ufos, inplace=..., flattenComponents=..., convertCubics=..., conversionError=..., reverseDirection=..., rememberCurveType=..., layerNames=..., skipExportGlyphs=..., filters=..., allQuadratic=..., *, instantiator: Instantiator | None = ..., **kwargs) -> None:
        ...
    
    def process(self): # -> list[_GlyphSet]:
        ...
    
    def check_for_nonmatching_components(self, needs_decomposition): # -> None:
        ...
    


class OTFInterpolatablePreProcessor(BaseInterpolatablePreProcessor):
    """Interpolatable pre-processor for CFF-flavored fonts.

    By default, besides any user-defined custom pre/post filters, this decomposes
    all composite glyphs, which aren't a thing in PostScript outlines.

    Unlike the non-interpolatable OTFPreProcessor, overlaps are *not* removed as
    that could make outlines incompatible for interpolation.
    """
    def initDefaultFilters(self, **kwargs): # -> list[Any]:
        ...
    


