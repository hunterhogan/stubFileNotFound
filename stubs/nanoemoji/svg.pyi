"""
This type stub file was generated by pyright.
"""

import dataclasses
from fontTools import ttLib
from lxml import etree
from nanoemoji.color_glyph import ColorGlyph
from nanoemoji.config import FontConfig
from nanoemoji.glyph_reuse import GlyphReuseCache, ReuseResult
from nanoemoji.paint import Paint, PaintLinearGradient, PaintRadialGradient
from picosvg.svg import SVGTraverseContext
from picosvg.svg_transform import Affine2D
from typing import ClassVar, MutableMapping, NamedTuple, Optional, Sequence, Union

"""Helps nanoemoji build svg fonts."""
_DEFAULT_ROUND_NDIGITS = ...
class GradientReuseKey(NamedTuple):
    paint: Paint
    transform: Affine2D = ...


_GradientPaint = Union[PaintLinearGradient, PaintRadialGradient]
@dataclasses.dataclass
class ReuseCache:
    reuse_tolerance: float
    glyph_cache: GlyphReuseCache
    glyph_elements: MutableMapping[str, etree.Element] = ...
    reuse_results: MutableMapping[str, ReuseResult] = ...
    gradient_ids: MutableMapping[GradientReuseKey, str] = ...
    SKIP_REUSE: ClassVar[ReuseResult] = ...
    def add_glyph(self, glyph_name: str, context: SVGTraverseContext, reuse_result: Optional[ReuseResult] = ...): # -> None:
        ...
    


_XLINK_HREF_ATTR_NAME = ...
_PAINT_ATTRIB_APPLY_PAINT_MAY_SET = ...
def make_svg_table(config: FontConfig, ttfont: ttLib.TTFont, color_glyphs: Sequence[ColorGlyph], picosvg: bool, compressed: bool = ...): # -> None:
    """Build an SVG table optimizing for reuse of shapes.

    Reuse here requires putting shapes into a single svg doc. Use of large svg docs
    will come at runtime cost. A better implementation would also consider usage frequency
    and avoid taking reuse opportunities in some cases. For example, even the most
    and least popular glyphs share shapes we might choose to not take advantage of it.
    """
    ...

